<!DOCTYPE html><html class="theme-lattice"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>《白帽子讲WEB安全》读书笔记 | leaf++ blog</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="leaf"><meta name="designer" content="leaf"><meta name="rating" content="general"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="index, follow"><meta name="keywords" content="Web开发,前端开发"><link rel="canonical" href="https://leaf930814.github.io/notes/2019/09/20/《白帽子讲WEB安全》读书笔记/index.html"><link rel="apple-touch-icon" sizes="57x57" href="/blog/img/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="114x114" href="/blog/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="72x72" href="/blog/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="144x144" href="/blog/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="60x60" href="/blog/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="120x120" href="/blog/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="76x76" href="/blog/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="152x152" href="/blog/img/apple-touch-icon-152x152.png"><link rel="icon" type="image/png" href="/blog/img/favicon-230x230.png" sizes="230x230"><link rel="icon" type="image/png" href="/blog/img/android-chrome-192x192.png" sizes="192x192"><link rel="icon" type="image/png" href="/blog/img/android-chrome-144x144.png" sizes="144x144"><link rel="icon" type="image/png" href="/blog/img/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32"><meta name="msapplication-TileColor" content="#2f83cd"><meta name="msapplication-TileImage" content="/blog/img/mstile-144x144.png"><meta property="wb:webmaster" content="a1686eb81db284d5"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><link rel="stylesheet" href="/blog/css/style.css"><link rel="alternate" href="/blog/atom.xml" title="leaf++ blog"><meta name="description" content="第1章 我的安全世界观安全评估的过程，可以简单分为 4 个阶段：资产等级划分、威胁分析、风险分析、确认解决方案。 Secure By Default 原则、纵深防御原则、数据与代码分离原则、不可预测性原则 第2章 浏览器安全同源策略是浏览器安全基础 浏览器沙箱：让不可信任代码运行在一定环境中，限制访问隔离区之外的资源 恶意网址拦截 第3章 跨站脚本攻击（XSS）Cross Site Script"><meta name="keywords" content="Web开发"><meta property="og:type" content="article"><meta property="og:title" content="《白帽子讲WEB安全》读书笔记"><meta property="og:url" content="https://leaf930814.github.io/notes/2019/09/20/《白帽子讲WEB安全》读书笔记/index.html"><meta property="og:site_name" content="leaf++ blog"><meta property="og:description" content="第1章 我的安全世界观安全评估的过程，可以简单分为 4 个阶段：资产等级划分、威胁分析、风险分析、确认解决方案。 Secure By Default 原则、纵深防御原则、数据与代码分离原则、不可预测性原则 第2章 浏览器安全同源策略是浏览器安全基础 浏览器沙箱：让不可信任代码运行在一定环境中，限制访问隔离区之外的资源 恶意网址拦截 第3章 跨站脚本攻击（XSS）Cross Site Script"><meta property="og:locale" content="zh-cn"><meta property="og:image" content="https://raw.githubusercontent.com/leaf930814/blog-misc/master/img/cyber_security_2.png"><meta property="og:updated_time" content="2019-10-16T04:11:52.464Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="《白帽子讲WEB安全》读书笔记"><meta name="twitter:description" content="第1章 我的安全世界观安全评估的过程，可以简单分为 4 个阶段：资产等级划分、威胁分析、风险分析、确认解决方案。 Secure By Default 原则、纵深防御原则、数据与代码分离原则、不可预测性原则 第2章 浏览器安全同源策略是浏览器安全基础 浏览器沙箱：让不可信任代码运行在一定环境中，限制访问隔离区之外的资源 恶意网址拦截 第3章 跨站脚本攻击（XSS）Cross Site Script"><meta name="twitter:image" content="https://raw.githubusercontent.com/leaf930814/blog-misc/master/img/cyber_security_2.png"><meta name="twitter:site" content="leaf930814"><script>var App={root:"/blog/",isHome:!1,isCate:!1,isTag:!1}</script></head><body class="page-post-detail"><div class="mod-hd"><div class="grid"><div class="mod-logo"><a href="/blog/">BLOG</a></div><span class="mod-hd-toggle" id="J_hdToggle"><i class="fa fa-bars"></i></span><div class="mod-hd-main"><div class="mod-hd-inner"><nav class="mod-nav"></nav><div class="mod-search" id="J_search"><a class="fa fa-search mod-search-ico" id="J_searchTrigger" title="搜索"></a><form id="J_searchForm" method="get" class="mod-search-form" action="/search/"><input type="text" name="query" class="mod-search-ipt" id="J_searchInput" placeholder="搜索"></form></div></div></div></div></div><div class="mod-container"><div class="grid"><div class="mod-main typo"><article class="post"><div class="post-cover"><img src="https://raw.githubusercontent.com/leaf930814/blog-misc/master/img/cyber_security.png" alt="《白帽子讲WEB安全》读书笔记"></div><header class="post-hd"><h1 class="post-tit">《白帽子讲WEB安全》读书笔记</h1><div class="post-meta">by <a target="_blank" href="https://github.com/leaf930814" class="post-author">leaf++</a> on <span>2019-09-20</span></div><p class="post-subtit" style="display:none"><i class="fa fa-quote-left"></i>互联网本来是安全的，因为有了研究安全的人所以才会不安全。</p><span style="display:none" id="busuanzi_value_page_pv"></span></header><div class="post-content"><p><img src="https://raw.githubusercontent.com/leaf930814/blog-misc/master/img/cyber_security_2.png" alt="image"></p><h4 id="第1章-我的安全世界观" class="post-heading"><a href="#第1章-我的安全世界观" class="headerlink" title="第1章 我的安全世界观"></a>第1章 我的安全世界观<a class="post-anchor" href="#第1章-我的安全世界观" aria-hidden="true"></a></h4><p>安全评估的过程，可以简单分为 4 个阶段：资产等级划分、威胁分析、风险分析、确认解决方案。</p><p>Secure By Default 原则、纵深防御原则、数据与代码分离原则、不可预测性原则</p><h4 id="第2章-浏览器安全" class="post-heading"><a href="#第2章-浏览器安全" class="headerlink" title="第2章 浏览器安全"></a>第2章 浏览器安全<a class="post-anchor" href="#第2章-浏览器安全" aria-hidden="true"></a></h4><p>同源策略是浏览器安全基础</p><p>浏览器沙箱：让不可信任代码运行在一定环境中，限制访问隔离区之外的资源</p><p>恶意网址拦截</p><h4 id="第3章-跨站脚本攻击（XSS）" class="post-heading"><a href="#第3章-跨站脚本攻击（XSS）" class="headerlink" title="第3章 跨站脚本攻击（XSS）"></a>第3章 跨站脚本攻击（XSS）<a class="post-anchor" href="#第3章-跨站脚本攻击（XSS）" aria-hidden="true"></a></h4><h5 id="Cross-Site-Script简介" class="post-heading"><a href="#Cross-Site-Script简介" class="headerlink" title="Cross Site Script简介"></a>Cross Site Script简介<a class="post-anchor" href="#Cross-Site-Script简介" aria-hidden="true"></a></h5><ul><li>概念：黑客通过“HTML注入”篡改网页，插入恶意脚本，从而在用户浏览网页时，控制用户浏览器。</li><li>根据效果分类：<ul><li>反射型XSS：简单地把用户输入的数据反射给浏览器。</li><li>存储型XSS：会把用户输入的数据存储在服务器端，这种XSS具有稳定性。<h5 id="XSS攻击进阶" class="post-heading"><a href="#XSS攻击进阶" class="headerlink" title="XSS攻击进阶"></a>XSS攻击进阶<a class="post-anchor" href="#XSS攻击进阶" aria-hidden="true"></a></h5></li></ul></li><li>构造技巧：<ul><li>利用字符编码</li><li>绕过长度限制</li><li>使用<base>标签</li><li>Window.name:可以实现跨域，跨页面传递数据</li></ul></li><li>防御<ul><li>HttpOnly,解决cookie劫持</li><li>浏览器filter</li><li>输出检查：编码，转义</li></ul></li></ul><h4 id="第4章-跨站点请求伪造（CSRF）" class="post-heading"><a href="#第4章-跨站点请求伪造（CSRF）" class="headerlink" title="第4章 跨站点请求伪造（CSRF）"></a>第4章 跨站点请求伪造（CSRF）<a class="post-anchor" href="#第4章-跨站点请求伪造（CSRF）" aria-hidden="true"></a></h4><ul><li>通过伪装来自受信任用户的请求来利用受信任的网站<h5 id="CSRF进阶" class="post-heading"><a href="#CSRF进阶" class="headerlink" title="CSRF进阶"></a>CSRF进阶<a class="post-anchor" href="#CSRF进阶" aria-hidden="true"></a></h5></li><li>浏览器cookie：一种是Session Cookie，没有指定expire，浏览器关闭，cookie就失效，另一种是Third-party-Cookie，又称为本地cookie，只有expire时间到了后才会失效。</li><li>如果当前浏览器会拦截本地cookie，那就需要攻击者构造攻击环境，诱使用户在浏览器中先访问目标站点，使session cookie生效，再进行CSRF攻击</li><li>如果网站返回给浏览器的HTTP头中携带有P3P头，将允许浏览器发送第三方Cookie，即使在ie下也不会拦截。但是由于cookie是以域和path为单位的，p3p头的设置会影响整个域的所有页面。</li><li>不仅是get，CSRF也可以发起post请求</li><li>防御：<ul><li>验证码：最简洁有效的防御手段，但是用户体验差。</li><li>Referer Check：也可以被用于检查请求是否来自合法的源，但是服务器端并不是任何时候都可以获取到Referer，所以不能作为主要防御手段。</li><li>Anti Csrf token：使用token是业界一致的做法，token的生成需要具有随机性和保密性</li></ul></li></ul><h4 id="第5章-点击劫持（ClickJacking）" class="post-heading"><a href="#第5章-点击劫持（ClickJacking）" class="headerlink" title="第5章 点击劫持（ClickJacking）"></a>第5章 点击劫持（ClickJacking）<a class="post-anchor" href="#第5章-点击劫持（ClickJacking）" aria-hidden="true"></a></h4><ul><li><p>拖拽劫持 数据窃取 触屏劫持</p></li><li><p>防御：JavaScript禁止iframe嵌套 HTTP头X-Frame-Options</p></li><li><p>iframe 可设置 sandbox 参数</p></li></ul><h4 id="第6章-HTML5-安全" class="post-heading"><a href="#第6章-HTML5-安全" class="headerlink" title="第6章 HTML5 安全"></a>第6章 HTML5 安全<a class="post-anchor" href="#第6章-HTML5-安全" aria-hidden="true"></a></h4><ul><li>HTML5新标签的XSS：可能带来新的XSS攻击。</li></ul><h4 id="注入攻击" class="post-heading"><a href="#注入攻击" class="headerlink" title="注入攻击"></a>注入攻击<a class="post-anchor" href="#注入攻击" aria-hidden="true"></a></h4><ul><li>两个关键条件：第一个是用户能够控制输入，第二个是原本程序要执行的代码，拼接了用户输入的数据。<h5 id="SQL注入" class="post-heading"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入<a class="post-anchor" href="#SQL注入" aria-hidden="true"></a></h5></li><li>发现漏洞方式<ul><li>攻击者通过web服务器的错误回显构造sql注入语句</li><li>没有错误回显一样可以实现注入，就是所谓的盲注，是通过简单的条件判断对比返回结果来发现漏洞。</li></ul></li><li>防御<ul><li>建立数据库账号时要遵循“最小权限”原则，每个应用分配不同的账号，且账号不应该具有创建自定义函数和操作本地文件的权限</li><li>使用预编译语句：这是防御sql注入的最佳方式，攻击者无法改变sql语句的结构</li><li>使用存储过程：但是存储过程也存在注入风险，所以应避免在存储过程中使用动态语句</li><li>检查数据类型：比如限制输入为Intger类型，比如限制输入为日期格式等<h5 id="其他注入攻击" class="post-heading"><a href="#其他注入攻击" class="headerlink" title="其他注入攻击"></a>其他注入攻击<a class="post-anchor" href="#其他注入攻击" aria-hidden="true"></a></h5></li></ul></li><li>XML注入</li><li>代码注入</li><li>CRLF注入</li></ul><div class="post-tags" style="display:none"><a href="/blog/tags/Web开发/">Web开发</a></div><div class="post-categories" style="display:none"><a href="/blog/cates/Web开发/">Web开发</a></div><div class="post-revision"><i class="fa fa-clock-o"></i> <time class="post-updated" datetime="2019-10-16T04:11:52.464Z">上次更新：2019-10-16 12:11:52</time></div></div><div class="post-nav"><div class="post-nav-prev"><a href="/blog/notes/2019/08/12/椭圆曲线加密原理与应用/" title="椭圆曲线加密原理与应用"><i class="fa fa-chevron-left"></i> 椭圆曲线加密原理与应用</a></div></div><div class="post-comments" id="comments"></div><script>var gitalkOpts={id:"bm90ZXMvMjAxOS8wOS8yMC/jgIrnmb3luL3lrZDorrJXRULlronlhajjgIvor7vkuabnrJTorrAv",owner:"leaf930814",repo:"blog",title:"《白帽子讲WEB安全》读书笔记",body:"https://leaf930814.github.io/notes/2019/09/20/《白帽子讲WEB安全》读书笔记/index.html\n\n互联网本来是安全的，因为有了研究安全的人所以才会不安全。",clientID:"f82f526a1c32792164ec",clientSecret:"79d5ef9dcad726e7945c109a7b9ae15f01c72035",admin:["leaf930814"]}</script></article></div><aside class="mod-side" id="sidebar"><div class="mod-side-sec works"><div class="mod-side-sec-hd"><h2>服务/产品</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="https://www.gxbui.com/demo.html" target="_blank" title="GXB-UI">GXB-UI</a></li></ul></div></div><div class="mod-side-sec favlinks"><div class="mod-side-sec-hd"><h2>社区/其他</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="https://www.gxchain.org/" target="_blank" title="GXChain Official Website">GXChain</a></li><li><a href="https://www.cnblogs.com/leaf930814/" target="_blank" title="My Cnblogs">我的cnblogs博客</a></li></ul></div></div></aside></div></div><div class="mod-backtop" id="backTop"><i class="fa fa-long-arrow-up"></i></div><footer class="mod-ft" id="footer"><div class="grid"><ul class="mod-ft-links"><li><a href="/blog/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="https://github.com/leaf930814/blog" target="_blank"><i class="fa fa-github-alt"></i></a></li></ul><div class="mod-ft-sec mod-ft-copyright"><p>Copyright &copy; 2019. All Rights Reserved.</p></div></div></footer><script src="/blog/js/libs/debounce.js"></script><script src="/blog/js/libs/jquery.js"></script><script src="/blog/js/libs/jquery.scrollPager.js"></script><script src="/blog/js/libs/hogan-3.0.2.js"></script><script src="/blog/js/libs/base64.js"></script><script src="/blog/js/mods/util.js"></script><script src="/blog/js/mods/common.js"></script><script src="/blog/js/mods/console.js"></script><script src="/blog/js/mods/scrollPager.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/blog/js/post_wx_share.js"></script><script src="/blog/js/libs/ua-parser.js"></script><script src="/blog/js/mods/gitalk.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script type="text/javascript" src="https://tajs.qq.com/stats?sId=53685723" charset="UTF-8"></script></body></html>