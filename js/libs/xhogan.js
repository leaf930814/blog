!function(i,o,n,s){i.support&&(i.support.cors=!0),s.heredoc=function(t){return t.toString().split("\n").slice(1,-1).join("\n")+"\n"},s.toHtml=function(t,n,i){return(t=o.compile(t)).render(n,i)},s.render=function(t){t=l(t),new p(t).render(t.extraTplData)};function a(t){return typeof t}function t(t){return"string"===a(t)&&(0===t.indexOf("http://")||0===t.indexOf("https://"))}var r=window.localStorage||{},e={target:"body",tpl:"#xhoganTpl",data:{},tplVersion:"1",dataVersion:"1",appendToTarget:!0,dataType:"json",cbk:function(t,n,i,o){}},l=function(t){return(t=i.extend({},e,t||{})).$target=i(t.target),t},p=function(t){this.opts=t,this.id=n.encode(t.target),this.init()};p.prototype={init:function(){this.isTplRemote=t(this.opts.tpl),this.isDataRemote=t(this.opts.data),this.tplId=this.isTplRemote?n.encode(this.opts.tpl):"localTpl",this.dataId=this.isDataRemote?n.encode(this.opts.data):"localData",this.tplKey=[this.id,this.tplId].join("-"),this.dataKey=[this.id,this.dataId].join("-"),this.tplVersionKey=this.tplKey+"-Version",this.dataVersionKey=this.dataKey+"-Version"},render:function(t){var e=this;this.getHtml(function(t,n,i,o){if(t)return function(t){window.console&&window.console.log&&window.console.log(t)}("xhogan:在getHtml方法中发生错误->"+t),void(e.opts.cbk&&e.opts.cbk(t));e.opts.appendToTarget?e.opts.$target.append(n):e.opts.$target.html(n),e.opts.cbk&&e.opts.cbk(t,n,i,o)},t)},getHtml:function(o,e){var n=this;this.getTpl(this.opts.tpl,function(t,i){t?o(t):n.getData(n.opts.data,function(t,n){t?o(t):o(null,s.toHtml(i,n,e),i,n)})})},getTpl:function(t,o){if(0!==t.indexOf("#")){var e=this,n=r[this.tplVersionKey];n&&n===this.opts.tplVersion?o(null,r[this.tplKey]):i.ajax({url:t,cache:!1,success:function(t,n,i){r[e.tplVersionKey]=e.opts.tplVersion,r[e.tplKey]=t,o(null,t)},error:function(t,n,i){o(i)}})}else o(null,i(t)[0].innerHTML)},getData:function(t,o){if("object"!==a(t)){var e=this,n=r[this.dataVersionKey];n&&n===this.opts.dataVersion?o(null,JSON.parse(r[this.dataKey])):i.ajax({crossDomain:!0,url:t,cache:!1,success:function(t,n,i){r[e.dataVersionKey]=e.opts.dataVersion,r[e.dataKey]=JSON.stringify(t),o(null,t)},error:function(t,n,i){o(i)}})}else o(null,t)}}}(window.jQuery||window.Zepto,Hogan,Base64,window.xhogan={});